"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[165,377],{425:(e,t,s)=>{s.r(t),s.d(t,{IdContext:()=>i,default:()=>h,useIdContext:()=>d});var o=s(848),r=(s(559),s(540)),a=s(322),n=s(504),c=s(608),l=s(301);const i=(0,r.createContext)(void 0);function d(){const e=(0,r.useContext)(i);if(void 0===e)throw new Error("useTaskContext must be used within TaskContext.Provider");return e}const h=function(){const[e,t]=(0,l.HI)(),[s,d]=(0,l.UV)(),{id:h}=(0,a.g)(),[g,u]=(0,r.useState)(""),[f,m]=(0,r.useState)([]);return(0,c.R)(t),((e,t)=>{(0,r.useEffect)(()=>{console.log("useeffecttoshowtasks","id",t),(async()=>{let s=[];const o=localStorage.getItem("currentUser")?localStorage.getItem("currentUser"):null;if("string"==typeof o)try{const e=await fetch(`http://localhost:3005/list/${t}/todos`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem(o)}`}});console.log("useEffectToShowTasks Response: ",e),s=await e.json(),console.log("useEffectToShowTasks Success: ",s)}catch(e){console.error("Error:",e)}s&&e(s)})()},[])})(d,h),((e,t,s)=>{(0,r.useEffect)(()=>{let o=[...e];""!==t&&0!==o.length&&(o=o.filter(e=>e.todonote.toLowerCase().includes(t.toLowerCase()))),s([...o])},[e,t])})(s,g,m),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.Provider,{value:h,children:[(0,o.jsx)(n.A.Heading,{}),(0,o.jsx)(n.A.TaskInputForm,{searchInput:g,setSearchInput:u}),"shared-todos"!==h&&(0,o.jsx)(n.A.AddNewNote,{}),(0,o.jsx)(n.A.BothTasks,{})]}),(0,o.jsx)(n.A.BackImage,{})]})}},608:(e,t,s)=>{s.d(t,{R:()=>r});var o=s(540);const r=e=>((0,o.useEffect)(()=>{(async()=>{let t=[];const s=localStorage.getItem("currentUser")?localStorage.getItem("currentUser"):null;if("string"==typeof s)try{const e=await fetch("http://localhost:3005/list/categories",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem(s)}`}});t=await e.json(),console.log("hello",t)}catch(e){console.error("Error:",e)}t&&e(t)})()},[]),null)},642:(e,t,s)=>{s.d(t,{A:()=>o});const o={trash:"/assets/trash-svgrepo-com-1.svg",addButton:"/assets/add-button.svg",rightArrow:"/assets/arrow-right.png",backArrow:"/assets/back-arrow-svgrepo-com.svg",toggleDark:"/assets/color-scheme.svg",toggleLight:"/assets/color-scheme-(1).svg",edit:"/assets/frame-6.svg",search:"/assets/vector.svg",share:"/assets/share.png"}},966:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var o=s(848),r=s(504),a=(s(559),s(642));s.p;var n=s(540),c=s(301),l=s(425);const i=function(){const[e,t]=(0,c.UV)(),s=(0,l.useIdContext)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"body",children:(0,o.jsx)("div",{className:"listContainer",children:(0,o.jsx)("ul",{className:"noteListContainer",children:void 0!==e&&e.map(c=>(0,o.jsxs)(n.Fragment,{children:[(0,o.jsxs)("li",{className:"noteList",children:[(0,o.jsx)("input",{type:"checkbox",className:"noteCheckbox",name:"",id:""}),(0,o.jsx)("span",{className:"noteText",children:c.todonote}),(0,o.jsxs)("span",{className:"editDeleteContainer",children:[(0,o.jsx)(r.A.EditIcon,{index:c._id,category:c.category,flag:s}),(0,o.jsx)("img",{className:"trashIcon","aria-hidden":!0,onClick:()=>(async s=>{const o=e.filter(e=>e._id!==s);t(o);const r=e.filter(e=>e._id===s),a=r[0]?.category;try{const e=localStorage.getItem("currentUser")?localStorage.getItem("currentUser"):null;if("string"==typeof e){const t=await fetch(`http://localhost:3005/todos/${s}/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem(e)}`}}),o=await t.text();console.log("hello",o)}}catch(e){console.error("Error:",e)}})(c._id),alt:"",src:a.A.trash}),"shared-todos"!==s&&(0,o.jsx)(r.A.ShareIcon,{tasks:e,setTasks:t,index:c._id})]})]}),(0,o.jsx)("hr",{className:"noteDivider"})]},JSON.stringify(c._id)))})})})})}}}]);