"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[870],{158:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(848),o=(s(559),s(925),s(642)),n=s(107),r=s(540);const c=function({tasks:e,setTasks:t,id:s}){const[c,l]=(0,r.useState)(""),[i,d]=(0,r.useState)([]),[h,g]=(0,r.useState)(s);function u(e){return g(e.target.value.toLowerCase()),null}const m=async()=>{let s={};try{const e=await fetch("http://localhost:3005/todosInsert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({todonote:c,category:h})});s=await e.json(),console.log("hello",s)}catch(e){console.error("Error:",e)}if(""!==c){let a=[...e,s];t(a),l("")}};return(0,r.useEffect)(()=>{(async()=>{let e=[];const t=localStorage.getItem("currentUser")?localStorage.getItem("currentUser"):null;if("string"==typeof t)try{const s=await fetch("http://localhost:3005/list/categories",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem(t)}`}});e=await s.json(),console.log("hello",e)}catch(e){console.error("Error:",e)}e&&d(e)})()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.A,{trigger:(0,a.jsx)("img",{className:"addButtonIcon","aria-hidden":!0,alt:"",src:o.A.addButton}),modal:!0,nested:!0,children:e=>(0,a.jsxs)("div",{className:"modal",children:[(0,a.jsx)("div",{className:"newNoteHeading",children:(0,a.jsx)("h1",{children:"New Note"})}),(0,a.jsx)("div",{className:"inputContainer",children:(0,a.jsx)("input",{type:"text",placeholder:"Input your note...",className:"inputElement",value:c,onChange:e=>l(e.target.value)})}),(0,a.jsx)("div",{className:"inputContainer",children:(0,a.jsxs)("select",{name:"cars",id:"category",value:h,onChange:u,className:"inputElement","aria-hidden":!0,children:[(0,a.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Input your category"}),i.map(e=>(0,a.jsx)(r.Fragment,{children:(0,a.jsx)("option",{value:e.category,children:e.category.toUpperCase()})},JSON.stringify(e._id)))]})}),(0,a.jsxs)("div",{className:"buttonContainer",children:[(0,a.jsx)("button",{className:"closeButton",onClick:()=>{console.log("modal closed "),e()},children:"Cancel"}),(0,a.jsx)("button",{className:"addButton",onClick:m,children:"Apply"})]})]})})})}},642:(e,t,s)=>{s.d(t,{A:()=>a});const a={trash:"/assets/trash-svgrepo-com-1.svg",addButton:"/assets/add-button.svg",rightArrow:"/assets/arrow-right.png",backArrow:"/assets/back-arrow-svgrepo-com.svg",toggleDark:"/assets/color-scheme.svg",toggleLight:"/assets/color-scheme-(1).svg",edit:"/assets/frame-6.svg",search:"/assets/vector.svg"}},925:(e,t,s)=>{e.exports=s.p+"assets/add-button.svg"}}]);